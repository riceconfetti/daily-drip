---
import { Character } from "../classes/character";
interface Props {
  character: Character;
  chronicle: boolean;
  spec: boolean;
}
const { character, spec, chronicle } = Astro.props;

const splash = character.splash
  ? character.splash
  : character.path
    ? `/paths/${character.path}.png`
    : `/elements/${character.element}.png`;
const sizing = character.splash ? "" : "scale";
---

<div class={`five-star-card ${chronicle ? "chronicle" : ""}`}>
  <img
    class={`${character.element} ${character.path} ${sizing} ${spec ? "spec" : ""}`}
    src={splash}
    alt={`${character.name} Splash Art`}
  />
  <div class="title-card">
    <div class="card-box">
      <h2>{character.name}</h2>
      {!chronicle && <h3>{character.banner}</h3>}
    </div>
  </div>
</div>

<style lang="scss">
  .five-star-card {
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    gap: 5px;
    width: 100%;
    img {
      border: 1px solid #7e7e7e;
      box-sizing: border-box;
      background: center / auto 100% no-repeat;
      object-fit: cover;
      aspect-ratio: 4/7;
      width: 100%;

      &.spec {
        border: 3px solid silver;
        border-image: url("/textures/holo-4.jpg") 10 round;
      }

      &.scale {
        object-fit: contain;
        padding: 1.2rem;
      }

      &.fire {
        background-image: url("/backgrounds/fire.png");
      }

      &.lightning {
        background-image: url("/backgrounds/lightning.png");
      }

      &.wind {
        background-image: url("/backgrounds/wind.png");
      }

      &.imaginary {
        background-image: url("/backgrounds/imaginary.png");
      }

      &.ice {
        background-image: url("/backgrounds/ice.png");
      }

      &.quantum {
        background-image: url("/backgrounds/quantum.png");
      }

      &.physical {
        background-image: url("/backgrounds/physical.png");
      }

      &.electro {
        background-image: url("/backgrounds/electro.png");
      }

      &.pyro {
        background-image: url("/backgrounds/pyro.png");
      }

      &.dendro {
        background-image: url("/backgrounds/dendro.png");
      }

      &.cryo {
        background-image: url("/backgrounds/cryo.png");
      }

      &.geo {
        background-image: url("/backgrounds/geo.png");
      }

      &.hydro {
        background-image: url("/backgrounds/hydro.png");
      }

      &.anemo {
        background-image: url("/backgrounds/anemo.png");
      }

      &.genshin {
        background-image: url("/backgrounds/genshin.png");
      }

      &.starrail {
        background-image: url("/backgrounds/starrail.png");
      }
    }

    .title-card {
      display: flex;
      padding: 2px;
      height: 100%;
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
      align-self: stretch;
      border: 0.2px solid #000;
      .card-box {
        display: flex;
        height: 100%;
        padding: 3px 0px;
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        align-self: stretch;
        border: 0.2px solid #8f8f8f;

        h2 {
          text-align: center;
          font-family: "Playfair Display";
          font-size: 16px;
          font-weight: 600;
          align-self: stretch;
        }

        h3 {
          text-align: center;
          font-family: "Playfair Display";
          font-size: 12px;
          font-style: italic;
          font-weight: 400;
          align-self: stretch;
          height: 100%;
        }
      }
    }
  }

  .chronicle {
    position: relative;
    width: 100%;
    gap: 1rem;
    img {
      aspect-ratio: 1;
      width: 100%;
      background-size: cover;
      position: relative;
    }
    .title-card {
      box-sizing: border-box;
      height: max-content;
      width: 100%;
      position: absolute;
      bottom: 0;
      padding: 0;
      border: 0;
      .card-box {
        background-color: #1b1b1b;
        border: none;
        h2 {
          color: white;
        }
      }
    }
  }
</style>
