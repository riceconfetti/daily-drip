---
import { Character } from "../classes/character";
interface Props {
  character: Character;
  spec: boolean;
  release: boolean;
}
const { character, spec, release } = Astro.props;

const splash = character.splash
  ? character.splash
  : character.path
    ? `/paths/${character.path}.png`
    : `/elements/${character.element}.png`;
const sizing = character.splash ? "" : "scale";
---

<div class={`five-star-card ${release ? "release" : ""}`}>
  <img
    class={`${character.element} ${character.path} ${sizing} ${spec ? "spec" : ""}`}
    src={splash}
    alt={`${character.name} Splash Art`}
  />
  <div class="title-card">
    <div class="card-box">
      <h2>{character.name}</h2>
      <h3>{character.banner}</h3>
    </div>
  </div>
</div>

<style lang="scss">
  .five-star-card {
    display: flex;
    position: relative;
    flex-direction: column;
    box-sizing: border-box;
    gap: 5px;
    width: 100%;

    &.release::after {
      content: "NEW";
      position: absolute;
      background-color: #ffe300;
      padding: 0.3rem;
      font-size: 11px;
      font-family: calibri;
      font-weight: bolder;
      margin: 0.2rem;
      right: 0;
      display: flex;
    }

    img {
      border: 1px solid #7e7e7e;
      box-sizing: border-box;
      background: center / auto 100% no-repeat;
      object-fit: cover;
      aspect-ratio: 4/7;
      width: 100%;

      &.spec {
        border: 3px solid silver;
        border-image: url("/textures/holo-4.jpg") 10 round;
      }

      &.scale {
        object-fit: contain;
        padding: 1.2rem;
      }

      &.genshin {
        background-image: url("/backgrounds/genshin.png");
      }

      &.starrail {
        background-image: url("/backgrounds/starrail.png");
      }

      &.fire {
        background-image: url("/backgrounds/fire.png");
      }

      &.lightning {
        background-image: url("/backgrounds/lightning.png");
      }

      &.wind {
        background-image: url("/backgrounds/wind.png");
      }

      &.imaginary {
        background-image: url("/backgrounds/imaginary.png");
      }

      &.ice {
        background-image: url("/backgrounds/ice.png");
      }

      &.quantum {
        background-image: url("/backgrounds/quantum.png");
      }

      &.physical {
        background-image: url("/backgrounds/physical.png");
      }

      &.electro {
        background-image: url("/backgrounds/electro.png");
      }

      &.pyro {
        background-image: url("/backgrounds/pyro.png");
      }

      &.dendro {
        background-image: url("/backgrounds/dendro.png");
      }

      &.cryo {
        background-image: url("/backgrounds/cryo.png");
      }

      &.geo {
        background-image: url("/backgrounds/geo.png");
      }

      &.hydro {
        background-image: url("/backgrounds/hydro.png");
      }

      &.anemo {
        background-image: url("/backgrounds/anemo.png");
      }
    }

    .title-card {
      display: flex;
      padding: 2px;
      height: 100%;
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
      align-self: stretch;
      border: 0.2px solid #000;
      .card-box {
        display: flex;
        height: 100%;
        padding: 3px 0px;
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        align-self: stretch;
        border: 0.2px solid #8f8f8f;

        h2 {
          text-align: center;
          font-family: "Playfair Display";
          font-size: 16px;
          font-weight: 600;
          align-self: stretch;
        }

        h3 {
          text-align: center;
          font-family: "Playfair Display";
          font-size: 12px;
          font-style: italic;
          font-weight: 400;
          align-self: stretch;
          height: 100%;
        }
      }
    }
  }
</style>
